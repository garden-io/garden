{
  "type": "object",
  "properties": {
    "localId": {
      "type": [
        "string",
        "null"
      ],
      "description": "Specify an image ID to use when building locally, instead of the default of using the action name. Must be a valid Docker image identifier. **Note that the image _tag_ is always set to the action version.**"
    },
    "publishId": {
      "type": [
        "string",
        "null"
      ],
      "description": "Specify an image ID to use when publishing the image (via the `garden publish` command), instead of the default of using the action name. Must be a valid Docker image identifier."
    },
    "targetStage": {
      "type": "string",
      "description": "For multi-stage Dockerfiles, specify which image/stage to build (see https://docs.docker.com/engine/reference/commandline/build/#specifying-target-build-stage---target for details)."
    },
    "buildArgs": {
      "type": "object",
      "description": "Specify build arguments to use when building the container image.\n\nNote: Garden will always set a `GARDEN_ACTION_VERSION` (alias `GARDEN_MODULE_VERSION`) argument with the module/build version at build time.",
      "properties": {
        "/.+/": {
          "description": "Number, string or boolean",
          "anyOf": [
            {
              "type": [
                "string",
                "null"
              ]
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ]
        }
      },
      "additionalProperties": false,
      "patternProperties": {
        ".+": {
          "description": "Number, string or boolean",
          "anyOf": [
            {
              "type": [
                "string",
                "null"
              ]
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ]
        }
      }
    },
    "extraFlags": {
      "type": "array",
      "description": "Specify extra flags to use when building the container image. Note that arguments may not be portable across implementations."
    },
    "platforms": {
      "type": "array",
      "description": "Specify the platforms to build the image for. This is useful when building multi-platform images.\nThe format is `os/arch`, e.g. `linux/amd64`, `linux/arm64`, etc."
    },
    "secrets": {
      "type": "object",
      "examples": [
        {
          "mytoken": "supersecret"
        }
      ],
      "description": "Secret values that can be mounted in the Dockerfile, but do not become part of the image filesystem or image manifest. This is useful e.g. for private registry auth tokens.\n\nBuild arguments and environment variables are inappropriate for secrets, as they persist in the final image.\n\nThe secret can later be consumed in the Dockerfile like so:\n```\n  RUN --mount=type=secret,id=mytoken TOKEN=$(cat /run/secrets/mytoken) ...\n```\n\nSee also https://docs.docker.com/build/building/secrets/",
      "properties": {
        "/.+/": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "patternProperties": {
        ".+": {
          "type": "string"
        }
      }
    },
    "dockerfile": {
      "type": "posixPath",
      "description": "POSIX-style name of a Dockerfile, relative to the action's source root.",
      "default": "Dockerfile"
    },
    "hotReload": {
      "type": [
        "array",
        "boolean",
        "number",
        "object",
        "string",
        "null"
      ]
    }
  },
  "additionalProperties": false
}