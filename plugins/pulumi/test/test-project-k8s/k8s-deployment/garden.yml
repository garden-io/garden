kind: Deploy
type: pulumi
name: k8s-deployment
description: Creates a Deployment and a Service in the namespace generated by the k8s-namespace pulumi service
dependencies:
  - deploy.k8s-namespace
spec:
  pulumiVarfiles: [varfile1.yaml, varfile2.yaml]
  createStack: true
  cacheStatus: true
  allowDestroy: true
  pulumiVariables:
    pulumi-k8s-test:orgName: ${var.orgName}
    pulumi-k8s-test:namespace: pulumi-test-default-${uuidv4()}
    pulumi-k8s-test:appName: api-pulumi-variables-override
    pulumi-k8s-test:isMinikube: "true"
